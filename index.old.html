<html> 
<head>
        
        <title>raganwald</title>

	<link rel="stylesheet" type="text/css" href="/blog.css" />
	<link rel="stylesheet" type="text/css" href="/sunburst.css" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />



    <link rel="openid.server" href="http://www.myopenid.com/server " />
    <link rel="openid.delegate" href="http://reginald.braithwaite.myopenid.com/" />
    <meta http-equiv="X-XRDS-Location" content="http://reginald.braithwaite.myopenid.com/xrds" />




	<style type="text/css">
	@import url("http://www.blogger.com/css/blog_controls.css");
	@import url("http://www.blogger.com/dyn-css/authorization.css?blogID=7618424");
	</style>
</head>

<body>

	<div id="leftcontent">
			<img src="http://raganwald.github.com/assets/raganwald_2008_350_150" 
			width="350" height="150" border="0" alt="raganwald" title="raganwald 2008" align="middle"/><br/>
<!--
<div style="background-color:black; text-align: center; color: white; padding: 10px 10px 10px 10px;">
<p><font size="+1">Arthur C. Clarke</font><font size="-1">, 1917&thinsp;&ndash;&thinsp;2008
<br/>&ldquo;If we have learned one thing from the history of invention and discovery,
<br/>it is that, in the long run&mdash;and often in the short one&mdash;the most daring prophecies seem laughably conservative.&rdquo;</font>
</p></div>
-->
		
			
				<div class="DateHeader">Tuesday, July 22, 2008</div>
			

			<div class="Post"><a name="1039201536923732175">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://raganwald.github.com/2008/07/brief-history-of-dangerous-ideas.html" title="permanent link">A Brief History of Dangerous Ideas</a></span>
					<div style="clear:both;"></div><font size="-1">(Brief because (a) I really don&#8217;t know that much history, and (b) there&#8217;s really only one idea here with a few examples, and once you get the point, we&#8217;re done and can move to the outro.)</font><br /><br />Astronomy and Celestial Mechanics were dangerous ideas because they undermined the most powerful organization of their day, The Church. That&#8217;s why people have been banned, tortured, and burned at the stake for talking about these ideas.<br /><br /><a href="http://www.cypher.net/crossbows_to_cryptography.html" title="From Crossbows to Cryptography">Crossbows</a> were a dangerous idea because they allowed an untrained peasant to kill a knight. Longbows were not a dangerous idea, because only trained archers can kill a knight with a longbow, and the nobility were the only people who could compel peasants to practise yeomanry.<br /><br />Cryptography is not a dangerous idea, because we really don&#8217;t know if any of our algorithms and protocols are resistant to the NSA. This was hi-lighted when researchers &#8220;discovered&#8221; differential cryptanalysis. When they looked at the <a href="http://en.wikipedia.org/wiki/Data_Encryption_Standard">DES</a> algorithm IBM has been promoting since the 1976, they found that it had been specifically tuned to resist differential cryptanalysis. IBM &#8216;fessed up: the US government had told them to tune things that way without explaining why, leading us to conclude they had known about this attack for decades before it became public knowledge. Today, we have no idea whether what we think is strong is actually strong or whether it has vulnerabilities and back doors governments can exploit.<br /><br /><center><a href="http://www.flickr.com/photos/libinpan/2688220806/" title="Zed and Reg at Rubyfringe"><img src="http://farm4.static.flickr.com/3269/2688220806_9e2a087195_m.jpg" alt="" style="border: solid 2px #000000;" /></a><br /><span style="font-size: 0.6em; margin-top: 0px;">Zed and Reg at Rubyfringe exchanging dangerous ideas, photo by <a href="http://www.flickr.com/people/libinpan/">Libin Pan</a></span></center><br />Miles Davis was a walking, talking, trumpet-playing dangerous idea. Not because he reinvented Jazz five different times (Dear Steve: Apple II, Macintosh, iPod/iPhone, Pixar. One more for the tie, two for the record.) Miles was an egocentric, venal man who worked the system, not undermined the system. But he was still dangerous because he got white people directly interested in black music. There was no Elvis or Vanilla Ice or anyone else between his music and the mainstream audience. For a government intent on keeping America&#8217;s two dominant cultures divided through fear, anything uniting them was a threat.<br /><br />People say Miles&#8217; legacy is his music. To me, Miles&#8217; lasting legacy is people like me, people with one parent from each culture who grew up dancing to the same music together. People who, incidentally, do not vote for governments that take a divide and conquer approach to culture.<br /><br />And on to tech. Microcomputers were not a dangerous idea. But <em>personal</em> computers were dangerous. It took decades for IT departments to regain control over people bringing their own computers to work. They can thank Microsoft for helping them get back into the driver&#8217;s seat.<br /><br />(This, incidentally, is why I really dislike Microsoft&#8217;s policies: it has nothing to do with their lack of taste, it has to do with their mission to make the computer on my desk belong to my IT department or the record label or the movie studio or&mdash;I suspect&mdash;the government.)<br /><br />Web applications are dangerous. Never mind the fact that they make desktop applications obsolete. The people who built desktop applications just go and get jobs writing web applications. Same people, different shit. But as Giles Bowkett <a href="http://gilesbowkett.blogspot.com/2006/12/tale-of-two-startups.html" title="Giles Bowkett: A Tale of Two Startups">pointed out</a>, web applications just might make venture capital obsolete! When you don&#8217;t need hundreds of programmers and distribution channels and all the other friction-managing elements of a company that ships old-school software, you need a lot less money to start a business.<br /><br />And on to media. You know that the web is busy putting newspapers out of business. My wife and I watched YouTube last Saturday Night. I&#8217;m not talking about the advertising business: I think we would have been happy to watch ads to watch our Mitch Hedberg and Billy Connoly comedy clips. But the web lets us choose what we want to watch, when we want to watch it. The network can&#8217;t put their up-and-coming show on right after their hit to give it a boost. The new show has to compete on its own merits. That puts users in control, and that&#8217;s dangerous.<br /><br />Joel Spolsky said a similar thing about pricing all music at 99 cents a track: it means the labels can&#8217;t kill an artist by sticking their CD in the $3.99 crapola bin. Users choose what they want to listen to. That&#8217;s dangerous, again because users are in control.<br /><br />Okay, that&rsquo;s enough. Dangerous ideas are the ones that subvert the existing hierarchy of control, not just the ones that shuffle people around in the same old chairs. Apple Macintosh with a GUI replacing a PC with a command line? Not dangerous. Apple Macintosh with a Laserwriter and Aldus Pagemaker allowing someone to launch a magazine in their basement that competes with a company employing dozens of layout artists? That&rsquo;s dangerous, and that&rsquo;s interesting.<br /><br />Dangerous equals subversive equals interesting.<br /><br /><strong>outro</strong><br /><br />Deep breath. Okay, the next thing is not particularly dangerous for the world at large, but it is for me. I am retiring from blogging and retiring from hacking on Ruby. Maybe I&#8217;ll un-retire one day. I don&#8217;t know, the future is not set.<br /><br />Miles Davis wasn&rsquo;t afraid to move on when the time was right, even if what he was doing seemed to make people happy. Respecting his legacy means seeking what he sought.<br /><br />Remember how I said that microcomputers were not dangerous, but personal computers were? Right now, I would say this: Ruby is not dangerous, but Rails is dangerous and Merb is dangerous and Sinatra is dangerous. Rewriting for Ruby is interesting. I believe it is useful. But is it <em>dangerous</em>? No.<br /><br />Likewise, I can say with a clear conscience that while writing is gratifying, and trying to write out and explain ideas has helped me understand things, the writing I&rsquo;ve been doing is not dangerous. It doesn&rsquo;t subvert. <br /><br />So while hacking away on Ruby the language and blogging about software development is gratifying and useful, they are not dangerous activities. They are microcomputers, but they are not personal computers.<br /><br />I am going on vacation from August 2nd through 10th. During that time I plan to do absolutely no thinking about computers. For what it&#8217;s worth, I will be engaging in activities with faux danger: wreck diving and sport climbing. (p.s. these are not solitary pursuits: if you want to try some of the world&#8217;s greatest wreck diving and sport climbing, get in touch).<br /><br />When I return, I will give things some serious thought and hopefully, discover a way I can help make our world a more dangerous place.<br /><br />Thank you ever so much for your support and interest and feedback. Especial thanks to my fellow bloggers like Joel, Joey, Giles, Damien, Obie and so many others who exchanged ideas with me and kept the debate alive. And Reddit? And Hacker News? You rock, you are the future. I can&#8217;t wait to see how your communities and technologies evolve.<br /><br />Warmest regards,<br /><br /><br />Reginald Braithwaite<div style="clear:both; padding-bottom:0.25em"></div>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://raganwald.github.com/2008/07/brief-history-of-dangerous-ideas.html" title="permanent link">10:04 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			

			<div class="Post"><a name="8915617942869161704">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://raganwald.github.com/2008/07/that-not-is-not-not-i-meant.html" title="permanent link">That not is not the not I meant</a></span>
					<div style="clear:both;"></div>During <a href="http://flickr.com/photos/raganwald/sets/72157606272767656/show/">my presentation at RubyFringe</a>, I put this slide up while talking about &ldquo;Adverbs:&rdquo;<br />
<br />
<center><a href="http://www.flickr.com/photos/raganwald/2686915382/" title="blitz.not.blank?"><img src="http://farm4.static.flickr.com/3181/2686915382_e42a8dcf9b.jpg" width="500" height="375" alt="blitz.not.blank?" /></a></center><br />
<br />
Judging by the fun we had discussing this point later, I really needed a better example or a new idea. But for thse who are a little curious about where I was trying to go with this&hellip;<br />
<br />
<strong>more on why not is not the same as not</strong><br />
<br />
I saw the #not method somewhere, and the point was that the author felt it read better than writing &ldquo;!blitz.blank?&rdquo; As someone pointed out, Ruby also gives us a not keyword, so you could write &ldquo;not blitz.blank?&rdquo; if you prefer the word &ldquo;not&rdquo; to the punctuation &ldquo;!&rdquo;<br />
<br />
So the argument is that:<pre><code>
blitz.not.blank? == !blitz.blank? # and also == (not blitz.blank?)</code></pre><br />
But there&rsquo;s another point we&rsquo;re missing comparing the word to the punctuation. Let&rsquo;s switch to English and you&rsquo;ll see what I mean. The sentence &ldquo;It is not the case that blitz is blank&rsquo; does not mean the same thing as &ldquo;blitz has the property of not being blank.&rdquo;<br />
<br />
Whaaaa?<br />
<br />
The key here is to think about where the parentheses go when we parse the two ways to express ourselves. Imagine &ldquo;blank?&rdquo; and &ldquo;not&rdquo; are functions instead of methods or keyword. Then two forms would look like this:<pre><code>
not(blank?)(blitz) # == blitz.not.blank?
not(blank?(blitz)) # == not blitz.blank?</code></pre><br />
Very different. The first expression passes the blank? function to the not function. The result is another function, the inverse of blank? itself, and that&rsquo;s what we use. The second form is our old not keyword, where we pass blitz to out blank function, which presumably returns true or false, and we pass the result to our not function which inverses the boolean.<br />
<br />
So in one case we are taking the inverse of a function, in the other we are taking the inverse of a boolean. This is what I was feeling out with my digression into wondering why Ruby reads from right to left. We have ways of applying functions to functions, but we don&rsquo;t have easy ways of writing methods that alter other methods directly. And we certainly don&rsquo;t have an easy way of sending a message that invokes such a method on an arbitrary object.<br />
<br />
I guess I wonder whether we could ever write this blitz.not(blank?) to express this idea, or perhaps blitz.(not blank?), or perhaps some other syntax. But the point would be that we want the inverse of a method, not the inverse of a boolean.<br />
<br />
<strong>speaking of jazz, so what?</strong><br />
<br />
It seems very abstract when we look at something like #not.blank?, because the result of an inverted #blank? method would usually be identical to the result of inverting its result.<br />
<br />
But let&rsquo;s consider the case where blitz is actually a proxy for a value in a SQL database column. So you might have something like &ldquo;my_model.blitz.not.blank?&rdquo; Fair enough?<br />
<br />
Now if you know SQL, I think you will agree that there are times when the following is true:<pre><code>
  (model1.blitz != model2.blitz) != (not model1.blitz == model2.blitz)</code></pre>Although it looks like x.not.eql?(y) should always have the same semantics as not x.eql?(y), SQL has <a href="http://en.wikipedia.org/wiki/Null_(SQL)">special semantics for testing NULLs</a>. Specifically, NULL is neither = nor <> any other value. So if you carefully map your proxies to the underlying SQL behaviour, you want the above to have this behaviour.<br />
<br />
(For those who are blessed with a lack of SQL in their lives, NULL is a special value that is not the same thing as a Ruby nil. For example NULL = NULL is false in SQL. So if we map SQL values to Ruby objects, the following is the case: NULL != <em>anything</em> is false, NULL == <em>anything</em> is also false, therefore not NULL == <em>anything</em> is true, and therefore (NULL != <em>anything</em>) != (not NULL == <em>anything</em>).<br />
<br />
If this digression into SQL NULLs now makes you regard your current ORM framework with deep suspicion, congratulations. They all suck, the trick to choosing an ORM is finding one that sucks in ways that aren&rsquo;t fatal to your project.)<br />
<br />
Essentially, Ruby <em>already</em> has a not adverb as a special case for #not==. #!= is there because sometimes (not foo == bar) is not equal to (foo != bar). However, like many things in Ruby this is a one-off thing. There isn&rsquo;t a bang-method construct, #== and #!= are two completely arbitrary symbols that we happen to associate with equality and its inverse.<br />
<br />
But maybe if we had a way to derive #!= from #== using a not adverb, maybe if we could write #== and then write a #not for the method, we would be able to do interesting things like replicate SQL&rsquo;s trivalent logic more accurately. We would know that foo.not < 5 is not the same thing as not foo < 5, because if foo is a SQL null, foo < 5 is false, as is foo.not < 5. And neither throws an exception!<br />
<br />
So getting back to the #not method as presented, I don&rsquo;t know if it&rsquo;s necessary, and if it does nothing more than replicated the exact semantics of the bang punctuation or not keyword it is clearly a matter of taste.<br />
<br />
But I do feel that there is a use case for &ldquo;adverbs,&rdquo; for a way to talk about modifying methods themselves. Unfortunately, right now the mechanisms for working directly with methods are somewhat arcane and thus we don&rsquo;t naturally consider them. So discussions like this feel very fringe and &ldquo;out there.&rdquo;<br />
<br />
But at least now I feel like I have properly explained the not I meant, and not the not I didn&rsquo;t mean.<div style="clear:both; padding-bottom:0.25em"></div>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://raganwald.github.com/2008/07/that-not-is-not-not-i-meant.html" title="permanent link">5:00 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Monday, July 21, 2008</div>
			

			<div class="Post"><a name="4142227447436024458">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://raganwald.github.com/2008/07/l-is-not-code-smell.html" title="permanent link">"L" is not a code smell</a></span>
					<div style="clear:both;"></div>During <a href="http://flickr.com/photos/raganwald/sets/72157606272767656/show/">my presentation at RubyFringe</a>, I shared a question that has been swirling around in my brain for a while: <em>Are IDE features really language smells?</em><br />
<br />
I don&#8217;t think it&#8217;s an original thought. If nothing else, it&#8217;s a corollary to what I believe to be true about many of the GoF design patterns: Many of them are workarounds, ways to Greenspun missing language features. Now, this is probably not the case for all IDE features, and in truth it may be that there are some features which could be implemented in either the language or the IDE, but the IDE may be the best place to put them.<br />
<br />
But there is a fairly large class of IDE features that strike me as language workarounds. One of them is definitely the ability to spit out a lot of boilerplate. If you need a lot of code written, you ought to be able to get your programming language to do it for you, not your IDE.<br />
<br />
There is room for people to disagree about this. There are some who feel (Strawman alert!) that programs consisting of large numbers of simple elements are easier to understand than programs consisting of a small number of highly abstract elements. Those folks feel an IDE gives you the ease of writing a program quickly plus the ease of reading that same program quickly. They feel that abstractions make the program easier to write but harder to read.<br />
<br />
I happen to disagree with this, and if you have been reading this weblog for more than a couple of days you have already read why my experience leads me down a different path. Although in deference to my colleagues with different views, I offer this quote:<br />
<br />
<blockquote>All problems can be solved by adding another layer of abstraction, except the problem of having too many layers of abstraction.</blockquote><br />
Anyone who has dealt with an <a href="http://discuss.joelonsoftware.com/default.asp?joel.3.219431" title="Why I Hate Frameworks">hammer factory</a> will agree.<br />
<br />
So back to &#8220;L.&#8221;<br />
<br />
Two speakers before me, <a href="http://gilesbowkett.blogspot.com/" title="Giles Bowkett">Giles Bowkett</a> gave his excellent <a href="http://gilesbowkett.blogspot.com/2008/02/archaeopteryx-ruby-midi-generator.html">Archaeopteryx</a>&#8212;um&#8212;presentation. I hesitated over that word, because I could just as easily say <em>performance</em>. Performances are terrific entertainment, but they sometimes obscure the message behind them. I want to say outright that while this is true of many other subjects, I felt it worked for Giles because the subject of his presentation was software development as a <em>how rather than a what</em>, and for Giles the &#8220;what&#8221; is performance.<br />
<br />
(Giles got a standing &#8220;O,&#8221; and many people might be tempted to rush out and make their presentations just as stimulating (400+ in-your-face slides punctuated with loud, driving <a href="http://www.youtube.com/watch?v=5SaFTm2bcac" title="The world's most important 6-sec drum loop">drum and bass</a>). Be sure that your material matches your presentation style! If not, people may walk away saying &#8220;Wow, amazing, but what exactly did she say?&#8221; I think it worked for Giles and that&#8217;s quite an accomplishment.)<br />
<br />
Now really, back to &#8220;L.&#8221;<br />
<br />
Giles is one of the people using closures in Ruby. Meaning, he is passing functions around and storing functions in objects. I am not going to try to say exactly what Archaeopteryx does, so I will describe this style of programming using an imaginary companion program that creates walking bass lines. I will call it <a href="http://web.mit.edu/newsoffice/2001/troody-0516.html" title="AI Lab creates robotic dinosaur - MIT News Office">Troody</a>.<br />
<br />
Let&#8217;s simplify things greatly and say that Troody will only ever play in perfect 4-4 time and further that Troody only ever play one of the eight notes in a particular chord&#8217;s standard scale. The probability of playing each of those notes on any one &#8220;beta&#8221; could be represented as an array with eight elements, like this: [.35, .05, .1, .05, .25, .05, .1, .05 ]. You can imagine passing arrays like this around in Troody.<br />
<br />
For example, we can pass this array to an object that actually plucks the strings: Plucker.new.start_plucking([ 0.35, 0.05, 0.1, 0.05, 0.25, 0.05, 0.1, 0.05 ]).<br />
<br />
Let&#8217;s try writing a na&iuml;ve Troody Plucker:<pre><code>
class Plucker
    def start_plucking(probs)
        while (self.tune.playing)
            if (Metronone.on_the_beat)
                r = rand
                cumulative_probs = probs.inject([]) { |cum, element| 
                    cum + [ cum[-1] &amp;&amp; (cum[-1] + element) || element ] 
                }
                notes_to_cumulative_probs = (1..8).zip(cumulative_probs)
                note_to_play = notes_to_cumulative_probs.detect { |note, prob| prob &gt;= r }
                self.pluck(note_to_play)
            end
        end
    end
end</code></pre><br />
You pass it a set of probabilities, it produces bass notes. But stop, that&#8217;s so procedural. Let&#8217;s learn from a flying creature, let&#8217;s learn from Archaeopteryx. Instead of passing arrays, let&#8217;s pass <em>lambdas</em>, like this: lambda { [.35, .05, .1, .05, .25, .05, .1, .05 ] }. Now whenever Troody needs the probability of something, we call the function with .call or Ruby&#8217;s [] alternative syntax. So now we write Plucker.new.start_plucking(lambda { [.35, .05, .1, .05, .25, .05, .1, .05 ] })<br />
<br />
Our new Plucker code is the same as the old, except we write:<pre><code>
cumulative_probs = probs.call.inject([]) { |cum, element| 
    cum + [ cum[-1] &amp;&amp; (cum[-1] + element) || element ] 
}</code></pre><br />
We now call the probs lambda when we need a note. That&rsquo;s it, we&rsquo;ve added a .call call. What does that get us? Well, here&#8217;s one thing: If we want the probability to change over time, our function can do that, and we don&#8217;t have to rewrite our start_plucking method to handle the idea.<br />
<br />
For example, here&#8217;s a probability lambda that usually plays the same way but from time to time decides it ought to play pedal notes (refactoring to OO is an optional exercise):<pre><code>
probs = lambda { |bars_of_pedal, beat|
    lambda {
        if beat == 0
            if bars_of_pedal == 0
                bars_of_pedal = 1 if rand &lt; .05
            elsif bars_of_pedal == 5
                if rand &lt; .25
                    bars_of_pedal = 0 
                else
                    bars_of_pedal += 1
                end
            elsif bars_of_pedal == 9
                if rand &lt; .5
                    bars_of_pedal = 0 
                else
                    bars_of_pedal += 1
                end
            elsif bars_of_pedal == 13
                bars_of_pedal = 0
            end
        end
        beat = (beat + 1) % 4
        if bars_of_pedal == 0
            [ 0.35, 0.05, 0.1, 0.05, 0.25, 0.05, 0.1, 0.05 ]
        else
            [ 1.0, 0, 0, 0, 0, 0, 0, 0 ]
        end
    }

}.call(0, 0)</code></pre><br />
Thanks to the way we&#8217;ve separated the probabilities from the plucking, we do not need to subclass Plucker to try a different playing style in Troody.<br />
<br />
As Giles pointed out, this is the <em>Strategy Pattern</em>. We are making different kinds of pluckers by encapsulating the logic of what to pluck in something we pass to a plucker. Archaeopteryx appears to do this everywhere. There are lambdas paramaterized by lambdas, lambdas that return lambdas&#8230;<br />
<br />
This creates a problem. Imagine a programing language where all the keywords are in upper case: IF foo THEN bar ELSE bizzat. Try reading such a program aloud, and you end up shouting the punctuation but speaking the words. This is wrong! We should be shouting the words and whispering the punctuation!<br />
<br />
And the problem with Ruby&#8217;s lambdas is that if you use a lot of them the word lambda really starts to stand out. So Giles fixed this by aliasing it to L: and using [] instead of .call():<pre><code>
alias :L :lambda

L{ |a| a + a}[5].
    =&gt; 10</code></pre><br />
Much nicer, and as Giles pointed out, this is an example of Ruby&#8217;s strength. If you have a program that rarely uses lambdas, you probably want lambdas to stand out when you use them, so you don&#8217;t alias lambdas to L and you use the call method, not the square brackets. But if you use lambdas a lot, it&#8217;s a win to abbreviate things.<br />
<br />
Okay, we&#8217;re talking about &#8220;L.&#8221; Good.<br />
<br />
Now in my talk, I said that abbreviating lambda to L was a code smell. I was wrong! Giles, my bad!!<br />
<br />
What I actually think is that needing to abbreviate lambda to L is a language smell. Very different. If you show me a Java program and you show me Strategy Pattern, I shouldn&#8217;t say it&#8217;s a code smell. I should say too bad for you that you need all that boilerplate when Ruby lets you do that with the word lambda and a pair of curly braces.<br />
<br />
So now to &#8220;L:&#8221; Giles, if lambdas are integral to Archaeopteryx, if they are so woven into the fabric of what Archaeopteryx does that you want the keyword &#8220;lambda&#8221; to fade away, I honestly think this is a place where the language <em>could</em> help you.<br />
<br />
For example, what if Ruby had <a href="http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_name" title="Evaluation strategy - Wikipedia, the free encyclopedia">call-by-name semantics</a>? You could write:<pre><code>
Plucker.new.start_plucking([ 0.35, 0.05, 0.1, 0.05, 0.25, 0.05, 0.1, 0.05 ])

# or...

bars_of_pedal, beat = 0, 0
Plucker.new.start_plucking(
    if beat == 0
        if bars_of_pedal == 0
            bars_of_pedal = 1 if rand &lt; .05
        elsif bars_of_pedal == 5
            if rand &lt; .25
                bars_of_pedal = 0 
            else
                bars_of_pedal += 1
            end
        elsif bars_of_pedal == 9
            if rand &lt; .5
                bars_of_pedal = 0 
            else
                bars_of_pedal += 1
            end
        elsif bars_of_pedal == 13
            bars_of_pedal = 0
        end
    end
    beat = (beat + 1) % 4
    if bars_of_pedal == 0
        [ 0.35, 0.05, 0.1, 0.05, 0.25, 0.05, 0.1, 0.05 ]
    else
        [ 1.0, 0, 0, 0, 0, 0, 0, 0 ]
    end
)</code></pre><br />
And you would get the same behaviour as if you were using lambdas.<br />
<br />
That&#8217;s it, that&#8217;s what I should have said on stage: any time you are working around your language&#8212;whether in your IDE, or by modifying open classes, or by abbreviating things&#8212;that&#8217;s a place where we should step back, where we should ask if our language is missing something.<br />
<br />
The answer may very well be &#8220;no.&#8221; But we ought to at least ask the question.<div style="clear:both; padding-bottom:0.25em"></div>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://raganwald.github.com/2008/07/l-is-not-code-smell.html" title="permanent link">12:43 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Friday, July 18, 2008</div>
			

			<div class="Post"><a name="5500185377849364461">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://raganwald.github.com/2008/07/raganwald-on-fringe-of-nervous.html" title="permanent link">Raganwald on the Fringe of a Nervous Breakdown</a></span>
					<div style="clear:both;"></div>Thanks to <a href="http://www.joelonsoftware.com/items/2008/07/18.html">Joel</a>, I now have a format for Sunday&rsquo;s <a href="http://rubyfringe.com/talks#reginald_braithewaite"> presentation</a> at RubyFringe: <a href="http://www.wired.com/techbiz/media/magazine/15-09/st_pechakucha">Twenty slides, each on the screen for exactly twenty seconds</a>.<div style="clear:both; padding-bottom:0.25em"></div>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://raganwald.github.com/2008/07/raganwald-on-fringe-of-nervous.html" title="permanent link">11:40 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>


	</div>







	<div id="rightcontent">

		<div class="SideBarTitle"><a href="http://reginald.braythwayt.com">Reg Braithwaite</a></div>

		<br />

		<br />

		<div class="SideBarTitle">Recent Writing</div>

                <a href="http://homoiconic.com">Homoiconic</a>

		<br/>

		<br/>

		<div class="SideBarTitle">Share</div>

                <a href="http://github.com/raganwald/rewrite_rails">rewrite_rails</a> /

                <a href="http://github.com/raganwald/andand">andand</a> /

                <a href="http://raganwald.com/source/unfold.rb.html">unfold.rb</a> /

                <a href="http://raganwald.com/source/string_to_proc.rb.html">string_to_proc.rb</a> /

                <a href="http://raganwald.com/source/dsl_and_let.html">dsl_and_let.rb</a> /

                <a href="http://raganwald.com/source/comprehensions.html">comprehension.rb</a> /

                <a href="http://raganwald.com/source/lazy_lists.html">lazy_lists.rb</a>

		<br />

		<br />

		<div class="SideBarTitle">Beauty</div> <!-- idioms -->

		<a href="http://raganwald.github.com/2008/04/is-strictly-equivalent-to.html">IS-STRICTLY-EQUIVALENT-TO-A</a> /

		<a href="http://raganwald.github.com/2008/03/spaghetti-western-coding.html">Spaghetti-Western Coding</a> /

		<a href="http://raganwald.github.com/2007/12/golf-is-good-program-spoiled.html">Golf is a good program spoiled</a> /

		<a href="http://raganwald.github.com/2007/11/programming-conventions-as-signals.html">Programming conventions as signals</a> /

                <a href="http://raganwald.github.com/2007/10/too-much-of-good-thing-not-all.html">Not all functions should be object methods</a>

<br/><br/>

                <a href="http://raganwald.github.com/2007/05/not-so-big-software-application.html">The Not So Big Software Design</a> /

		<a href="http://raganwald.github.com/2007/04/writing-programs-for-people-to-read.html">Writing programs for people to read</a> /
                
		<a href="http://raganwald.github.com/2007/03/why-why-functional-programming-matters.html">Why Why Functional Programming Matters Matters</a> /

		<a href="http://raganwald.github.com/2007/02/but-y-would-i-want-to-do-thing-like.html">But Y would I want to do a thing like this?</a>

		<br />

		<br />

		<div class="SideBarTitle">Work</div>

                <a href="http://raganwald.github.com/2008/04/single-most-important-thing-you-must-do.html">The single most important thing you must do to improve your programming career</a> /

                <a href="http://raganwald.github.com/2008/02/naive-approach-to-hiring-people.html">The Na&iuml;ve Approach to Hiring People</a> /

                <a href="http://raganwald.github.com/2008/01/no-disrespect.html">No Disrespect</a> /

		<a href="http://raganwald.github.com/2006/11/take-control-of-your-interview.html">Take control of your interview</a> /

		<a href="http://raganwald.github.com/2006/08/three-tips-for-getting-job-through.html">Three tips for getting a job through a recruiter</a> /

		<a href="http://raganwald.github.com/2006/06/my-favourite-interview-question.html">My favourite interview question</a>

                <br/>

                <br/>



                <div class="SideBarTitle">Buy Raganwald a Coffee</div>
				
                       <div style="float: right; width: 64px; margin-left: 6px; font-style: italic; text-align: center; font-size: 80%;"><form name="DoubleEspresso" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="raganwald@gmail.com">
<input type="hidden" name="item_name" value="Buy Raganwald a Darkhorse Double Espresso">
<input type="hidden" name="item_number" value="DoubleEspresso">
<input type="hidden" name="amount" value="3.15">
<input type="hidden" name="no_shipping" value="0">
<input type="hidden" name="logo_custom" value="http://raganwald.github.com/uploaded_images/coffeecup.png">
<input type="hidden" name="no_note" value="1">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="tax" value="0">
<input type="hidden" name="lc" value="CA">
<input type="hidden" name="bn" value="PP-DonationsBF">
<input type="image" src="http://raganwald.github.com/uploaded_images/coffeecup.png" width="64" height="64" border="0" name="submit" alt="Make payments with PayPal - it's fast, free and secure!">
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form></div>If you enjoy reading my weblog, please consider <a href="#"
title="Buy Raganwald a darkhorse double espresso, for $3.15" onclick="javascript: document.DoubleEspresso.submit();">buying me a Darkhorse Double Espresso, for just $3.15</a>
                       Thank you!

		<br />

		<br />



		<div class="SideBarTitle">Management</div>

		<a href="http://raganwald.github.com/2008/02/exception-handling-in-software.html">Exception Handling in Software Development</a> /

		<a href="http://raganwald.github.com/2007/11/what-if-powerful-languages-and-idioms.html">What if powerful languages and idioms only work for small teams?</a> /

                <a href="http://raganwald.github.com/2007/08/bricks.html">Bricks</a> /

                <a href="http://raganwald.github.com/2007/06/which-theory-first-evidence.html">Which theory fits the evidence?</a> /

                <a href="http://raganwald.github.com/2007/06/still-failing-still-learning.html">Still failing, still learning</a> /

		<a href="http://raganwald.github.com/2005/01/what-ive-learned-from-failure.html">What I&rsquo;ve learned from failure</a>

		<br />

		<br />

		<div class="SideBarTitle">Notation</div> <!-- languages -->

		<a href="http://raganwald.github.com/2008/06/what-does-do-when-used-as-unary.html">The unary ampersand in Ruby</a> /

		<a href="http://raganwald.github.com/2008/02/1100inject.html">(1..100).inject(&amp;:+)</a> /

                <a href="http://raganwald.github.com/2007/10/challenge-of-teaching-yourself.html">The challenge of teaching yourself a programming language</a> /

                <a href="http://raganwald.github.com/2006/11/significance-of-meta-circular_22.html">The significance of the meta-circular interpreter</a> /
                
                <a href="http://raganwald.github.com/2007/08/block-structured-javascript.html">Block-Structured Javascript</a> /

                <a href="http://raganwald.github.com/2007/02/haskell-ruby-and-infinity.html">Haskell, Ruby and Infinity</a> /

		<a href="http://raganwald.github.com/2007/01/closures-and-higher-order-functions.html">Closures and Higher-Order Functions</a>

		<br />

		<br />

		<div class="SideBarTitle">Opinion</div>

		<a href="http://raganwald.github.com/2008/05/why-apple-is-more-expensive-than-amazon.html">Why Apple is more expensive than Amazon</a> /

		<a href="http://raganwald.github.com/2008/04/why-we-are-biggest-obstacle-to-our-own.html">Why we are the biggest obstacles to our own growth</a> /

		<a href="http://raganwald.github.com/2008/03/process-is-to-software-as-software-is.html">Is software the documentation of business process mistakes?</a> /

		<a href="http://raganwald.github.com/2007/09/we-have-lost-control-of-apparatus.html">We have lost control of the apparatus</a> /

		<a href="http://raganwald.github.com/2007/01/what-ive-learned-from-sales-part-i.html">What I&rsquo;ve Learned From Sales</a>
                <a href="http://raganwald.github.com/2007/01/what-ive-learned-from-sales-part-i.html" title="What I've Learned From Sales, Part I: Don't Feed the Trolls">I</a>, 
                <a href="http://raganwald.github.com/2007/01/what-ive-learned-from-sales-part-ii.html" title="What I've Learned from Sales, Part II: Wanna Bet?">II</a>, 
                <a href="http://raganwald.github.com/2007/10/how-to-use-blunt-instrument-to-sharpen.html" title="What I've Learned from Sales, Part III: How to use a blunt instrument to sharpen your saw">III</a>

		<br/>

		<br/>

		<div class="SideBarTitle">Whimsey</div>

                <a href="http://raganwald.github.com/2008/05/narcissism-of-small-code-differences.html">The Narcissism of Small Code Differences</a> /

		<a href="http://raganwald.github.com/2008/01/billy-martins-technique-for-managing.html">Billy Martin&rsquo;s Technique for Managing his Manager</a> /

		<a href="http://raganwald.github.com/2007/10/three-stories-about-tao.html">Three stories about The Tao</a> /

		<a href="http://raganwald.github.com/2007/02/programming-language-stories.html">Programming Language Stories</a> /

		<a href="http://raganwald.github.com/2005/07/why-you-need-degree-to-work-for-bigco.html">Why You Need a Degree to Work For BigCo</a>

		<br />

		<br />

		<div class="SideBarTitle">History</div>

		
			<a href="http://raganwald.github.com/archives/2004_06_01_archive.html">06/04</a> /
		
			<a href="http://raganwald.github.com/archives/2004_07_01_archive.html">07/04</a> /
		
			<a href="http://raganwald.github.com/archives/2004_08_01_archive.html">08/04</a> /
		
			<a href="http://raganwald.github.com/archives/2004_09_01_archive.html">09/04</a> /
		
			<a href="http://raganwald.github.com/archives/2004_10_01_archive.html">10/04</a> /
		
			<a href="http://raganwald.github.com/archives/2004_11_01_archive.html">11/04</a> /
		
			<a href="http://raganwald.github.com/archives/2004_12_01_archive.html">12/04</a> /
		
			<a href="http://raganwald.github.com/archives/2005_01_01_archive.html">01/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_02_01_archive.html">02/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_03_01_archive.html">03/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_04_01_archive.html">04/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_06_01_archive.html">06/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_07_01_archive.html">07/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_08_01_archive.html">08/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_09_01_archive.html">09/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_10_01_archive.html">10/05</a> /
		
			<a href="http://raganwald.github.com/archives/2005_11_01_archive.html">11/05</a> /
		
			<a href="http://raganwald.github.com/archives/2006_01_01_archive.html">01/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_02_01_archive.html">02/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_03_01_archive.html">03/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_04_01_archive.html">04/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_05_01_archive.html">05/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_06_01_archive.html">06/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_07_01_archive.html">07/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_08_01_archive.html">08/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_09_01_archive.html">09/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_10_01_archive.html">10/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_11_01_archive.html">11/06</a> /
		
			<a href="http://raganwald.github.com/archives/2006_12_01_archive.html">12/06</a> /
		
			<a href="http://raganwald.github.com/archives/2007_01_01_archive.html">01/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_02_01_archive.html">02/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_03_01_archive.html">03/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_04_01_archive.html">04/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_05_01_archive.html">05/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_06_01_archive.html">06/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_07_01_archive.html">07/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_08_01_archive.html">08/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_09_01_archive.html">09/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_10_01_archive.html">10/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_11_01_archive.html">11/07</a> /
		
			<a href="http://raganwald.github.com/archives/2007_12_01_archive.html">12/07</a> /
		
			<a href="http://raganwald.github.com/archives/2008_01_01_archive.html">01/08</a> /
		
			<a href="http://raganwald.github.com/archives/2008_02_01_archive.html">02/08</a> /
		
			<a href="http://raganwald.github.com/archives/2008_03_01_archive.html">03/08</a> /
		
			<a href="http://raganwald.github.com/archives/2008_04_01_archive.html">04/08</a> /
		
			<a href="http://raganwald.github.com/archives/2008_05_01_archive.html">05/08</a> /
		
			<a href="http://raganwald.github.com/archives/2008_06_01_archive.html">06/08</a> /
		
			<a href="http://raganwald.github.com/archives/2008_07_01_archive.html">07/08</a> /
		
		<br/></p>
		<br/>

		<p class="profile-link"><a href="http://feeds.raganwald.com/raganwald"><img src="http://feeds.raganwald.com/~fc/raganwald?bg=&amp;fg=&amp;anim=0" height="26" width="88" style="border: 0pt none ; vertical-align: middle;" alt="" /></a>&nbsp;<a href="http://feeds.raganwald.com/raganwald" rel="alternate" type="application/rss+xml"><img src="http://www.raganwald.com/fb/images/pub/feed-icon16x16.png" alt="" style="border: 0pt none ; vertical-align: middle;"></a>&nbsp;<a href="http://feeds.raganwald.com/raganwald" rel="alternate" type="application/rss+xml">Subscribe in a reader</a></p>

	</div>





	<div style="visibility: hidden">
		<script type="text/javascript" src="http://www.assoc-amazon.com/s/link-enhancer?tag=raganwald001-20">
		</script>
		<noscript>
			<img src="http://www.assoc-amazon.com/s/noscript?tag=raganwald001-20" alt="" />
		</noscript>
	</div>

</body>
</html>